(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e3d68f4"],{"1da1":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("d3b7"),r("e6cf");function i(t,e,r,i,n,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(i,n)}function n(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,l,"next",t)}function l(t){i(o,n,a,s,l,"throw",t)}s(void 0)}))}}},"60d4":function(t){t.exports=JSON.parse('{"code":"zh_TW","messages":{"alpha":"{_field_} 須以英文組成","alpha_dash":"{_field_} 須以英數、斜線及底線組成","alpha_num":"{_field_} 須以英數組成","alpha_spaces":"{_field_} 須以英文及空格組成","between":"{_field_} 須介於 {min} 至 {max}之間","confirmed":" {_field_} 不一致","digits":"{_field_} 須為 {length} 位數字","dimensions":"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素","email":"{_field_} 須為有效的電子信箱","excluded":"{_field_} 的選項無效","ext":"{_field_} 須為有效的檔案","image":"{_field_} 須為圖片","oneOf":"{_field_} 的選項無效","integer":"{_field_} 須為整數","length":"{_field_} 的長度須為 {length}","max":"{_field_} 不能大於 {length} 個字元","max_value":"{_field_} 不得大於 {max}","mimes":"{_field_} 須為有效的檔案類型","min":"{_field_} 不能小於 {length} 個字元","min_value":"{_field_} 不得小於 {min}","numeric":"{_field_} 須為數字","regex":"{_field_} 的格式錯誤","required":"{_field_} 為必填","required_if":"{_field_} 為必填","size":"{_field_} 的檔案須小於 {size}KB"}}')},"96cf":function(t,e,r){var i=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,a=Object.create(n.prototype),o=new E(i||[]);return a._invoke=k(t,r,o),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}t.wrap=l;var c="suspendedStart",d="suspendedYield",f="executing",h="completed",m={};function p(){}function g(){}function v(){}var b={};b[a]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(T([])));_&&_!==r&&i.call(_,a)&&(b=_);var w=v.prototype=p.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){function e(r,n,a,o){var s=u(t[r],t,n);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,a,o)}),(function(t){e("throw",t,a,o)})):Promise.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,o)}))}o(s.arg)}var r;function n(t,i){function n(){return new Promise((function(r,n){e(t,i,r,n)}))}return r=r?r.then(n,n):n()}this._invoke=n}function k(t,e,r){var i=c;return function(n,a){if(i===f)throw new Error("Generator is already running");if(i===h){if("throw"===n)throw a;return $()}r.method=n,r.arg=a;while(1){var o=r.delegate;if(o){var s=L(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===c)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(t,e,r);if("normal"===l.type){if(i=r.done?h:d,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function L(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=u(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,m;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(t){if(t){var r=t[a];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){while(++n<t.length)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:$}}function $(){return{value:e,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[o]=function(){return this},t.AsyncIterator=S,t.async=function(e,r,i,n){var a=new S(l(e,r,i,n));return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;O(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:T(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=i}catch(n){Function("r","regeneratorRuntime = r")(i)}},b0c0:function(t,e,r){var i=r("83ab"),n=r("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,l="name";!i||l in a||n(a,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},bb51:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Home"},[r("NavBar"),r("router-view")],1)},n=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navBar"},[this.status.isLogin&&"member"==this.status.user?r("b-navbar",{staticStyle:{"z-index":"1"},attrs:{toggleable:"md",type:"light",variant:"transparent"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-navbar-brand",{class:{"text-white":t.textColor},attrs:{to:{path:"/"}}},[t._v("HOMIE")]),r("b-nav-item",{staticClass:"d-flex align-items-center order-md-1",attrs:{to:{path:"/tenant/"+this.status.id}}},[r("b-icon",{staticClass:"rounded bg-primary text-white",attrs:{icon:"person-fill"}})],1),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{staticClass:"active",class:{"text-white":t.textColor},attrs:{href:"#"},on:{click:t.switchLandlord}},[t._v("切換出租模式")]),r("b-nav-item",{staticClass:"active",class:{"text-white":t.textColor},attrs:{href:"#"},on:{click:t.logout}},[t._v("登出")])],1)],1)],1):0==this.status.isLogin&&"guest"==this.status.user?r("b-navbar",{staticStyle:{"z-index":"1"},attrs:{toggleable:"md",type:"light",variant:"transparent"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-navbar-brand",{class:{"text-white":t.textColor},attrs:{to:{path:"/"}}},[t._v("HOMIE")]),r("b-nav-item",{staticClass:"d-flex align-items-center order-md-1",on:{click:function(e){return e.preventDefault(),t.loginConfirm(e)}}},[r("b-icon",{staticClass:"rounded bg-primary text-white",attrs:{icon:"person-fill"}})],1),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-register",modifiers:{"modal-register":!0}}],class:{"text-white":t.textColor},attrs:{href:"#"}},[t._v("註冊")]),r("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-login",modifiers:{"modal-login":!0}}],class:{"text-white":t.textColor},attrs:{href:"#"}},[t._v("登入")])],1)],1)],1):this.status.isLogin&&"landlord"==this.status.user?r("b-navbar",{staticStyle:{"z-index":"1"},attrs:{toggleable:"md",type:"light",variant:"transparent"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-navbar-brand",{class:{"text-white":t.textColor},attrs:{to:{path:"/"}}},[t._v("HOMIE")]),r("b-nav-item",{staticClass:"d-flex align-items-center order-md-1",attrs:{to:{path:"/landlord/"+this.status.id}}},[r("b-icon",{staticClass:"rounded bg-primary text-white",attrs:{icon:"person-fill"}})],1),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{class:{"text-white":t.textColor},attrs:{href:"#"},on:{click:t.switchTenant}},[t._v("切換租屋模式")]),r("b-nav-item",{class:{"text-white":t.textColor},attrs:{href:"#"},on:{click:t.logout}},[t._v("登出")])],1)],1)],1):t._e(),r("b-modal",{attrs:{id:"modal-register",title:"註冊","hide-footer":""}},[r("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.passes,n=e.invalid;return[r("b-form",{on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)},reset:t.resetForm}},[r("ValidationProvider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,n=e.valid;return[r("b-form-group",{staticClass:"mb-2",attrs:{id:"input-resgister-account",label:"帳號","label-for":"input-account"}},[r("b-form-input",{attrs:{id:"input-account",type:"email",state:!i[0]&&(!!n||null),placeholder:"輸入Email帳號"},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(i[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"密碼",rules:"required|length:5",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,n=e.valid;return[r("b-form-group",{staticClass:"mb-2",attrs:{label:"密碼"}},[r("b-form-input",{attrs:{type:"password",state:!i[0]&&(!!n||null),placeholder:"輸入密碼"},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(i[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required|confirmed:password",name:"確認密碼"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.valid,n=e.errors;return[r("b-form-group",{staticClass:"mb-2",attrs:{label:"確認密碼","label-for":"input-password-confirm"}},[r("b-form-input",{attrs:{type:"password",state:!n[0]&&(!!i||null),placeholder:"重新輸入密碼"},model:{value:t.register.confirmation,callback:function(e){t.$set(t.register,"confirmation",e)},expression:"register.confirmation"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(n[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"暱稱",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,n=e.valid;return[r("b-form-group",{staticClass:"mb-2",attrs:{id:"input-resgister-name",label:"暱稱","label-for":"input-name"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",placeholder:"輸入暱稱",state:!i[0]&&(!!n||null)},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(i[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"性別",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.valid,n=e.errors;return[r("b-form-group",{staticClass:"mb-2",attrs:{id:"input-resgister-gender",label:"性別","label-for":"input-gender"}},[r("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"input-gender",options:t.register.genderOptions,state:!n[0]&&(!!i||null)},model:{value:t.register.genderSelected,callback:function(e){t.$set(t.register,"genderSelected",e)},expression:"register.genderSelected"}})],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"身份",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.valid,n=e.errors;return[r("b-form-group",{staticClass:"mb-2",attrs:{id:"input-resgister-identity",label:"身份","label-for":"input-identity"}},[r("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"input-identity",options:t.register.identityOptions,state:!n[0]&&(!!i||null)},model:{value:t.register.idSelected,callback:function(e){t.$set(t.register,"idSelected",e)},expression:"register.idSelected"}})],1)]}}],null,!0)}),r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{disabled:n,type:"submit",variant:"primary"},on:{click:t.signup}},[t._v("註冊")])],1)],1)]}}])})],1),r("b-modal",{attrs:{id:"modal-login",title:"登入","hide-footer":""}},[r("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.passes,n=e.invalid;return[r("b-form",{on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)},reset:t.resetForm}},[r("ValidationProvider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,n=e.valid;return[r("b-form-group",{attrs:{id:"input-login-account",label:"帳號","label-for":"input-login-account"}},[r("b-form-input",{attrs:{id:"input-account",type:"email",placeholder:"輸入Email帳號",state:!i[0]&&(!!n||null)},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(i[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"密碼",rules:"required|length:5"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,n=e.valid;return[r("b-form-group",{attrs:{id:"input-login-password",label:"密碼","label-for":"input-login-password"}},[r("b-form-input",{attrs:{id:"input-password",type:"password",placeholder:"輸入密碼",state:!i[0]&&(!!n||null)},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}}),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(i[0]))])],1)]}}],null,!0)}),r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{disabled:n,type:"submit",variant:"primary"},on:{click:t.signin}},[t._v("登入")])],1)],1)]}}])})],1),r("b-modal",{attrs:{id:"login-success",title:"登入成功","hide-footer":""}}),r("b-modal",{attrs:{id:"login-fail",title:"登入失敗","hide-footer":""}}),r("b-modal",{attrs:{id:"register-success",title:"註冊成功","hide-footer":""}}),r("b-modal",{attrs:{id:"register-fail",title:"註冊失敗","hide-footer":""}}),r("b-modal",{attrs:{id:"login-reject",title:"請先登入","hide-footer":""}})],1)},o=[],s=(r("4de4"),r("b0c0"),r("96cf"),r("1da1")),l=r("7bb1"),u=r("60d4");Object(l["d"])("zh_TW",u);var c={name:"NavBar",components:{ValidationObserver:l["a"],ValidationProvider:l["b"]},data:function(){return{value:"",register:{email:"",password:"",confirmation:"",name:"",genderSelected:0,idSelected:0,genderOptions:[{value:0,text:"男"},{value:1,text:"女"}],identityOptions:[{value:0,text:"學生"},{value:1,text:"上班族"}]},login:{email:"",password:""},status:{isLogin:!1,user:"guest",account:"",id:null},textColor:!1}},methods:{signup:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t,i=null,e.next=4,t.axios.get("".concat("http://localhost:3000","/register")).then((function(t){var e=t.data;i=e.filter((function(t){return t.email===r.register.email}))}));case 4:if(!i.length){e.next=6;break}return e.abrupt("return",r.$bvModal.show("register-fail"));case 6:return e.next=8,t.axios.post("".concat("http://localhost:3000","/register"),r.register).then((function(t){r.$bvModal.hide("modal-register"),r.register.email="",r.register.password="",r.register.confirmation="",r.register.name="",r.status.account=r.register.email,r.$bvModal.show("register-success")}));case 8:case"end":return e.stop()}}),e)})))()},signin:function(){var t=this,e=this,r=null;this.axios.get("".concat("http://localhost:3000","/register")).then((function(i){var n=i.data;if(r=n.filter((function(t){return t.email===e.login.email&&t.password===e.login.password})),!r.length)return e.$bvModal.show("login-fail");var a=n.filter((function(t){return t.email===e.login.email}));e.status.id=a[0].id,e.status.account=e.login.email,e.$bvModal.hide("modal-login"),e.login.email="",e.login.password="",e.$bvModal.show("login-success"),e.status.isLogin=!0,e.status.user="member",localStorage.setItem("STATUS",JSON.stringify(t.status))}))},logout:function(){this.status.isLogin=!1,this.status.user="guest",localStorage.setItem("STATUS",JSON.stringify(this.status)),this.$router.push({path:"/"})},loginConfirm:function(){var t=[];t=JSON.parse(localStorage.getItem("STATUS")),t.isLogin?this.$router.push({path:"/tenant"}):this.$bvModal.show("login-reject")},storageData:function(){var t=JSON.parse(localStorage.getItem("STATUS"))||!1;t?this.status=t:localStorage.setItem("STATUS",JSON.stringify(this.status))},switchLandlord:function(){this.status.user="landlord",localStorage.setItem("STATUS",JSON.stringify(this.status)),this.$router.push("/")},switchTenant:function(){this.status.user="member",localStorage.setItem("STATUS",JSON.stringify(this.status)),this.$router.push("/")},onSubmit:function(){},resetForm:function(){var t=this;this.register.email="",this.register.password="",this.register.confirmation="",this.register.genderSelected="",this.register.idSelected="",this.login.email="",this.login.password="",requestAnimationFrame((function(){t.$refs.observer.reset()}))}},created:function(){this.storageData()}},d=c,f=r("2877"),h=Object(f["a"])(d,a,o,!1,null,"e2497630",null),m=h.exports,p={name:"Home",components:{NavBar:m}},g=p,v=Object(f["a"])(g,i,n,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-0e3d68f4.12e28e70.js.map