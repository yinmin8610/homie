(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c2a90a0"],{"0ea8":function(t,s,a){t.exports=a.p+"img/kitchen.7aad0749.svg"},"188f":function(t,s,a){},"19d0":function(t,s,a){"use strict";var e=a("78d0"),o=a.n(e);o.a},2807:function(t,s,a){t.exports=a.p+"img/portfolio.2f482a53.svg"},"2ed8":function(t,s,a){t.exports=a.p+"img/wifi.c83a3758.svg"},"31f2":function(t,s,a){t.exports=a.p+"img/window.0db2b37c.svg"},5899:function(t,s){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,s,a){var e=a("1d80"),o=a("5899"),i="["+o+"]",r=RegExp("^"+i+i+"*"),n=RegExp(i+i+"*$"),c=function(t){return function(s){var a=String(e(s));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(n,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5f6c":function(t,s,a){"use strict";var e=a("188f"),o=a.n(e);o.a},7156:function(t,s,a){var e=a("861d"),o=a("d2bb");t.exports=function(t,s,a){var i,r;return o&&"function"==typeof(i=s.constructor)&&i!==a&&e(r=i.prototype)&&r!==a.prototype&&o(t,r),t}},"78d0":function(t,s,a){},8641:function(t,s,a){t.exports=a.p+"img/desk.c3c014cd.svg"},"9c97":function(t,s,a){t.exports=a.p+"img/sofa.a34de036.svg"},a086:function(t,s,a){t.exports=a.p+"img/bed.0c61a0e0.svg"},a9e3:function(t,s,a){"use strict";var e=a("83ab"),o=a("da84"),i=a("94ca"),r=a("6eeb"),n=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),m=a("d039"),u=a("7c73"),g=a("241c").f,h=a("06cf").f,p=a("9bf2").f,f=a("58a8").trim,b="Number",v=o[b],C=v.prototype,_=c(u(C))==b,w=function(t){var s,a,e,o,i,r,n,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=f(l),s=l.charCodeAt(0),43===s||45===s){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(l.charCodeAt(1)){case 66:case 98:e=2,o=49;break;case 79:case 111:e=8,o=55;break;default:return+l}for(i=l.slice(2),r=i.length,n=0;n<r;n++)if(c=i.charCodeAt(n),c<48||c>o)return NaN;return parseInt(i,e)}return+l};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,I=function(t){var s=arguments.length<1?0:t,a=this;return a instanceof I&&(_?m((function(){C.valueOf.call(a)})):c(a)!=b)?l(new v(w(s)),a,I):w(s)},y=e?g(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)n(v,x=y[N])&&!n(I,x)&&p(I,x,h(v,x));I.prototype=C,C.constructor=I,r(o,b,I)}},b689:function(t,s,a){t.exports=a.p+"img/chair.07f4894f.svg"},c84b:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"Detail"},[e("b-container",[e("h1",{staticClass:"h4 mb-2"},[t._v(t._s(t.house.name))]),e("b-row",{staticClass:"mb-5"},[e("b-col",{attrs:{md:"7"}},[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img1}})]),e("b-col",{attrs:{md:"5"}},[e("b-row",{staticClass:"no-gutters"},[e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img1}})]),e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img2}})])],1),e("b-row",{staticClass:"no-gutters"},[e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img3}})]),e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img3}})])],1),e("b-row",{staticClass:"no-gutters"},[e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img3}})]),e("b-col",[e("img",{staticClass:"img-fluid",attrs:{src:t.rooms.img3}})])],1)],1),e("b-col",{attrs:{md:"3"}})],1),e("b-row",{staticClass:"mb-5 flex-column-reverse flex-lg-row"},[e("b-col",{attrs:{lg:"8"}},[e("section",{staticClass:"info p-4 border bg-white mb-3"},[e("ul",{staticClass:"p-0"},[e("b-row",[e("b-col",[e("li",[t._v("押金："+t._s(t.house.deposit?t.house.deposit:"--"))]),e("li",[t._v("最短租期："+t._s(t.house.lease))]),e("li",[t._v("開伙："+t._s(t.house.fire))])]),e("b-col",[e("li",[t._v("管理費："+t._s(t.house.fee))]),e("li",[t._v("性別要求："+t._s(t.house.gender))]),e("li",[t._v("車 位："+t._s(t.house.carport))])]),e("b-col",[e("li",[t._v("養寵物："+t._s(t.house.pet))]),e("li",[t._v("建物面積："+t._s(t.house.areal))]),e("li",[t._v("產權登記："+t._s(t.house.enroll))])])],1)],1)]),e("section",{staticClass:"bg-info border p-4"},[e("h2",{staticClass:"h4 py-3"},[t._v("選擇房間類型")]),e("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-room",modifiers:{"modal-room":!0}}],staticClass:"room border bg-white w-50 p-2"},[e("img",{staticClass:"p-1",attrs:{src:a("a086"),width:"35"}}),t._v(" "+t._s(t.rooms.room)+" ")])])]),e("b-col",{attrs:{lg:"4"}},[e("section",{staticClass:"p-4 border bg-white mb-3"},[e("h2",{staticClass:"h4 py-3"},[t._v("房源描述")]),e("ol",{staticClass:"p-0"},[t._v(t._s(t.house.info))])]),e("section",{staticClass:"landlord p-4 border bg-white"},[e("div",{staticClass:"mb-3 d-flex align-items-end"},[e("img",{staticClass:"mr-1 img-fluid",attrs:{src:"https://images.unsplash.com/profile-1563292410875-3ba284c92d0e?dpr=2&auto=format&fit=crop&w=64&h=64&q=60&crop=faces&bg=fff",alt:""}}),e("b-link",{attrs:{to:{path:"/landlord/"+this.landlordId}}},[e("b-badge",{staticClass:"p-1",attrs:{variant:"primary"}},[t._v(t._s(this.email))])],1)],1),e("hr"),e("div",{staticClass:"d-flex py-2"},[e("h4",{staticClass:"h5 mr-1"},[t._v("房客")]),e("small",{staticClass:"text-primary d-flex align-items-end"},[e("b",[t._v("1")]),t._v("位學生 "),e("b",[t._v("1")]),t._v("位上班族 ")])]),e("div",{staticClass:"tenants"},[e("Identity")],1)])])],1)],1),e("section",[t.latlngStatus?e("Map",{attrs:{lat:t.house.latitude,lng:t.house.longitude}}):t._e()],1),e("section",{staticClass:"bg-info"}),e("b-modal",{attrs:{id:"login-reject2",title:"請先登入","hide-footer":""}}),e("b-modal",{attrs:{id:"modal-room",title:t.rooms.room,"hide-footer":""}},[e("b-container",{staticClass:"py-5"},[e("h4"),e("div",{staticClass:"rooms mb-md-4"},[e("b-row",{staticClass:"no-gutters"},[e("b-col",[e("b-img",{attrs:{fluid:"",src:t.rooms.img1,alt:"Image 1"}})],1),e("b-col",[e("b-img",{attrs:{fluid:"",src:t.rooms.img1,alt:"Image 1"}})],1)],1)],1),e("b-row",{staticClass:"mb-md-4"},[e("b-col",{attrs:{md:"12"}},[e("section",[e("div",{attrs:{role:"tablist"}},[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",href:"#",variant:"info"}},[t._v("家具")])],1),e("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t.rooms.bed?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("a086"),width:"35"}})]):t._e(),t.rooms.desk?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("8641"),width:"35"}})]):t._e(),t.rooms.chair?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("b689"),width:"35"}})]):t._e(),t.rooms.sofa?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("9c97"),width:"35"}})]):t._e(),t.rooms.closet?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("ca86"),width:"35"}})]):t._e(),t.rooms.fridge?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("eb38"),width:"35"}})]):t._e(),t.rooms.tv?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("d359"),width:"35"}})]):t._e()])],1)],1)],1),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",href:"#",variant:"info"}},[t._v("設施")])],1),e("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t.rooms.kitchen?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("0ea8"),width:"35"}})]):t._e(),t.rooms.elevator?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("ee3a"),width:"35"}})]):t._e(),t.rooms.heater?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("f682"),width:"35"}})]):t._e(),t.rooms.window?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("31f2"),width:"35"}})]):t._e(),t.rooms.wifi?e("span",[e("img",{staticClass:"rooms-icon",attrs:{src:a("2ed8"),width:"35"}})]):t._e()])],1)],1)],1)],1)])]),e("b-col",{attrs:{md:"12"}},[e("h4",{staticClass:"h5 pt-3"},[t._v("選擇預約看房時間")]),e("section",{staticClass:"calendar bg-white p-4 border d-flex justify-content-center"},[e("b-calendar",{attrs:{"date-disabled-fn":t.dateDisabled,locale:"en"},model:{value:t.dateValue,callback:function(s){t.dateValue=s},expression:"dateValue"}})],1)])],1),e("b-button",{staticClass:"btn-block",attrs:{disabled:""===t.dateValue,variant:"primary",size:"lg"},on:{click:t.loginConfirm}},[t._v("申請預約看房")]),e("div",{staticClass:"text-center text-secondary py-2"},[t._v("OR")]),e("b-button",{staticClass:"btn-block",attrs:{disabled:""===t.dateValue,variant:"outline-primary",size:"lg"},on:{click:t.rentLoginConfirm}},[t._v(" 我要租房")])],1)],1)],1)},o=[],i=(a("99af"),a("4160"),a("159b"),a("96cf"),a("1da1")),r=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"identity"},[e("img",{staticClass:"identity-icon",attrs:{src:a("d9e3"),width:"35"}}),e("img",{staticClass:"identity-icon",attrs:{src:a("2807"),width:"35"}})])}],c=(a("19d0"),a("2877")),l={},d=Object(c["a"])(l,r,n,!1,null,"d0d84086",null),m=d.exports,u=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"map"},[a("div",{staticStyle:{height:"350px"}},[a("div",{staticClass:"info"}),a("l-map",{staticStyle:{height:"100%",width:"100%"},attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":t.zoomUpdated,"update:center":t.centerUpdated,"update:bounds":t.boundsUpdated}},[a("l-tile-layer",{attrs:{url:t.url}}),a("l-marker",{attrs:{"lat-lng":t.markerLatLng}})],1)],1)])},g=[],h=(a("a9e3"),a("e11e")),p=a("2699"),f=a("a40a"),b=a("4e2b");delete h["Icon"].Default.prototype._getIconUrl,h["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var v={components:{LMap:p["a"],LTileLayer:f["a"],LMarker:b["a"]},props:{lat:{type:Number,default:47.31322},lng:{type:Number,default:-1.219482}},data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:18,center:[this.lat,this.lng],bounds:null,markerLatLng:[this.lat,this.lng]}},methods:{zoomUpdated:function(t){this.zoom=t},centerUpdated:function(t){this.center=t},boundsUpdated:function(t){this.bounds=t}}},C=v,_=Object(c["a"])(C,u,g,!1,null,null,null),w=_.exports,x={name:"Detail",components:{Identity:m,Map:w},data:function(){return{slide:0,sliding:null,dateValue:"",house:[],houseId:"",rooms:{},latlngStatus:!1,email:"",landlord:[],landlordId:null}},methods:{getData:function(t){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=s,o="".concat("http://localhost:3000","/house/").concat(t),a.next=4,e.$http.get(o).then((function(t){e.house=t.data,e.email=e.house.landlord,e.latlngStatus=!0}));case 4:return a.next=6,e.$http.get("".concat("http://localhost:3000","/rooms/").concat(t)).then((function(t){e.rooms=t.data}));case 6:return a.next=8,e.$http.get("".concat("http://localhost:3000","/register")).then((function(t){e.landlord=t.data,e.landlord.forEach((function(t){t.email===e.email&&(e.landlordId=t.id)}))}));case 8:case"end":return a.stop()}}),a)})))()},loginConfirm:function(){var t=JSON.parse(localStorage.getItem("STATUS"))||[];t.isLogin?this.$router.push({name:"BoxReservation",params:{dateValue:this.dateValue,houseId:this.houseId,lat:this.house.latitude,lng:this.house.longitude,landlordId:this.landlordId,landlordEmail:this.email}}):this.$bvModal.show("login-reject2")},rentLoginConfirm:function(){var t=JSON.parse(localStorage.getItem("STATUS"))||[];t.isLogin?this.$router.push({name:"amount",params:{houseId:this.houseId,landlordId:this.landlordId,landlordEmail:this.email,lat:this.house.latitude,lng:this.house.longitude}}):this.$bvModal.show("login-reject2")},onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},dateDisabled:function(t,s){var a=s.getDay(),e=s.getDate();return 0===a||6===a||13===e}},created:function(){var t=this;t.houseId=t.$route.params.id,t.getData(t.houseId)}},I=x,y=(a("5f6c"),Object(c["a"])(I,e,o,!1,null,null,null));s["default"]=y.exports},ca86:function(t,s,a){t.exports=a.p+"img/wardrobe.8d5ab3b1.svg"},d359:function(t,s,a){t.exports=a.p+"img/television.90678822.svg"},d9e3:function(t,s,a){t.exports=a.p+"img/graduation-cap.7d2dd995.svg"},eb38:function(t,s,a){t.exports=a.p+"img/fridge.ea90a227.svg"},ee3a:function(t,s,a){t.exports=a.p+"img/elevator.1b3a803d.svg"},f682:function(t,s,a){t.exports=a.p+"img/heater.15a4d34c.svg"}}]);
//# sourceMappingURL=chunk-5c2a90a0.627db4c1.js.map